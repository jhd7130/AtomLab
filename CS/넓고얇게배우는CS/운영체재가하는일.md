# #1. cpu는 4개, 프로세스는 200개, 쓰레드는 2000개 이상 컴퓨터는 이 모든걸 어떻게 관리할까?
어쩔 수 없이 한정된 물리적 자원을 프로그램들이 나눠 써야한다. 이렇듯 한정된 자원을 효율적으로 사용할 수 있게 관리하는 프로그램이 많이 들어보았던 OS의 기능 중 하나이다.(접근제어, IO관리, 동기화 등)
OS를 공부하기 전 집고 넘어가야하는 부분은 이전에 용어정리에서 알아보았다. 추가적으로 알아야하는 것이 있다. 위에서 이야기한 프로세스와 쓰레드라는 개념이다. 

# #2. 하드웨어, 운영체제, 프로세스, 쓰레드 
컴퓨터가 '국가'라면 운영체재는 '정부조직'이고 프로세스는 '가족(1가구)', 쓰레드는 '개인(국민)'이다. 아래 그림으로 정리해보자.

![image](https://user-images.githubusercontent.com/78134917/169451322-8d02b37c-be9a-43c3-8c2c-8e47e1b5bd22.png)

위처럼 OS는 메모리공간(기억공간)를 각각에 프로세스에게 할당해주고 프로세스에서 실행되는 쓰레드(프로그램 실행의 일련의 단위)를 CPU에 할당해준다. 
이렇게 작업을하게 되면 자원(CPU와 RAM)을 프로세스와 쓰레드들이 공유하게된다. 여기서 가장 주의해야할 부분은 동시성이다. 동시성. 즉, 여러개의 주체(Thread들)이 여러일을 동시에 진행한다. 하지만 사용할 수 있는 
자원은 한정적이다. 이럴때 동기화를 잘해줘야한다. 각 작업의 원자성을 잘 지켜서 교착상태에 빠지지 않게 프로그래밍을 해야한다. 프로세스 하나를 task라고 부르고 여러개의 프로세스가 실행되고 있는걸 멀티테스킹이라고 한다.


# #3. 기억공간이라는 것은 무엇일까? 
CPU는 프로세스에게 메모리 공간을 제공한다. 그리고 하나의 프로세스에 제공된 메모리공간은 다시 크게 세개의 공간으로 나눠진다. Process안에서 공유 가능한 heap 영역이 할당되고, 각 Thread에는 stack영역이
할당된다. 그리고 코드를 위한 코드영역이 있다. 
예를 한가지 들면 집이라는 공간이 있고 개인의 방을 stack, 공용공간 화장식, 거실, 주방등은 Heap으로 보면 된다. stack영역은 1MB정도 되고 Heap영역은 1.7GB정도 된다. 

# #4. 가상메모리란? 
> RAM과 HDD를 하나의 논리적 메모리로 추상화 시킨 메모리이다. 
한가지 생각해보자. 운영체재는 실행 중인 모든 프로그램(프로세스)마다 4GB의 메모리 공간을 사용할 수 있다고 한다. 보통 컴퓨터를 실행해서 사용하다보면 100개 이상의 프로그램이 실행된다. 그럼 400GB의 메모리가 필요하다.
이게 무슨일일까? 말그대로 4GB를 할당하는게 아닌 사용할 수 있을을 알려주는 것일 뿐이다. 위의 글을 보면 '논리적인','추상화'라는 단어들이 보인다. 이 부분을 기억하자. 
프로세스는 하나의 작업을 위해 OS에게 RAM메모리를 요청한다. 그럼 OS는 한 페이지(page : 4KB)의 메모리 공간을 제공한다. 그리고 해당 작업이 끝나거나 대기중이라면 이 RAM메모리의 한 page를 HDD의 공간으로 
page out한다. 그리고 다시 작업이 실행될 때 메모리가 가득 차있다면 page out(RAM -> HDD)을 먼저 실행하고 page in(RAM <- HDD)의 작업을 수행한다. 
이처럼 OS가 한정된 RAM메모리 공간과 비교적 여유가 많은 HDD공간을 함께 활용하여 효율적으로 RAM메모리를 관리함으로써 하나의 프로세스마다 활용할 수 있는 메모리 공간을 4GB나 제공한다는 것이다.



## #5. 정리 
위의 내욜들을 정리해보겠다.  
우리가 프로그래밍을 한다는 의미는 프로세스로 작동할 수 있는 소프트웨어(절차적인 흐름의 작성)을 개발한다는 말이다. 이런 절차적흐름이 여러개일 경우 멀티 쓰레드, 프로세스가 여러개면 멀티 테스킹이라고 이야기한다. 
이렇게 '멀티'라는 말이 붙게되면 한정된 자원을 공유함으로 동시성 이슈가 발생하게된다. 그렇기 때문에 동기화를 항상 주의해서 프로그래밍을 해야한다. 




