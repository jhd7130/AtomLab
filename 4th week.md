# 4주차 멘토링
### 로그인 유지를 위한 고민  

1. 로그인유지를 고민해야하는 이유

Http통신의 특징 중  

> connectionless(서버 클라이언트 사이의 통신이 한번 이루어지고나면 연결은 끊어진다.)
> stateless(매 통신은 같은 상태를 유지해야한다. 이전에 통신에 가지고 있던 정보는 가지고 있지 않는다.)  
  
  
이러한 특징으로 로그인을 유지하는 고민이 없다면 우리는 매번 통신할 때마다 로그인을 해야한다.  
  
이러한 http통신 때문에 로그인을 유지시킬 방법이 필요했다.(그렇지 않으면 사용자 어떤 누구도 불편함 때문에 그만 사용하고 말 것이다.)  
  
  
그래서 생겨난 방식이 session과 쿠키를 이용한 로그인 방식이다.  
  
사용자가 로그인을 성공하면 사용자의 고유한 session id를 제공한다. 그리고 그 아이디를 쿠키에 담아 클라이언트로 보낸다. 클라이언트는 해당 sessionid를 가지고 있다가  
인증이 필요한 시점에는 쿠키에 헤더에 sessionId를 담아 보낸다. 그럼 서버는 서버 메모리로 관리하는 session id를 비교하여 vaildation을 한다.  
  
너무나 안전하고 좋은 방식이다. 하지만 단점이 존재한다.  
단일 서버 방식에서는 유효할지 몰라도 서버가 여러대일 경우 문제가 발생한다. 서버가 여러대가 생기면 load가 여러갈래가 생기며 load balancing을 통해 요청을 각 서버에 제공한다.  
하지만 모든 요청의 로그인 인증을 위해선 모든 서버의 session을 동기화 시켜야한다. 
